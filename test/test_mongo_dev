 DBOptions = lists:foldl(fun(OptName, Acc) ->
    case application:get_env(OptName) of
      {ok, Val} -> [{OptName, Val} | Acc];
       _ -> Acc
     end
   end, [], [db_port, db_host, db_username, db_password, db_database]).


 DBAdapter = mongodb.
 CacheEnable = true.
 DBShards = [].

 DBOptions1 = [{adapter, list_to_atom(lists:concat([DBAdapter, ""]))},
     {cache_enable, CacheEnable}, {shards, DBShards} | DBOptions].
[{adapter,mongodb},{cache_enable,true},{shards,[]}].
  MemcachedCacheServerOpts = [
     {"localhost", 11211, 1}],
   CacheOptions = [
     {adapter, memcached_bin},
     {cache_servers, MemcachedCacheServerOpts}
   ].
   boss_db:start(DBOptions1),
   boss_cache:start(CacheOptions),
   boss_news:start().
   {ok, boss_db_test_model} = boss_record_compiler:compile(filename:join(["priv", "test_models", "boss_db_test_model.erl"])).
[A|_]=boss_db:find(boss_db_test_model,[]).
